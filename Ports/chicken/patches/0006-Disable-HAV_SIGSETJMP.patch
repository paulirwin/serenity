From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Paul Irwin <paulirwin@gmail.com>
Date: Tue, 22 Aug 2023 13:52:28 -0600
Subject: [PATCH] Disable HAV_SIGSETJMP

---
 Makefile.cross-linux-serenity | 2 +-
 Makefile.serenity             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/Makefile.cross-linux-serenity b/Makefile.cross-linux-serenity
index 90e79caca6a71cd2d6714b1e11eff58b6915f52b..452c1850a00f9c62fe1a9224072929e4a3b2f99b 100644
--- a/Makefile.cross-linux-serenity
+++ b/Makefile.cross-linux-serenity
@@ -75,7 +75,7 @@ chicken-config.h: chicken-defaults.h
 	echo "#define HAVE_MEMMOVE 1" >>$@
 	echo "#define HAVE_MEMORY_H 1" >>$@
 	echo "#define HAVE_SIGACTION 1" >>$@
-	echo "#define HAVE_SIGSETJMP 1" >>$@
+	echo "#define HAVE_SIGSETJMP 0" >>$@
 	echo "#define HAVE_SIGPROCMASK 1" >>$@
 	echo "#define HAVE_STDINT_H 1" >>$@
 	echo "#define HAVE_STDLIB_H 1" >>$@
diff --git a/Makefile.serenity b/Makefile.serenity
index ba2911d1a5feec3f641b50b09e3adb4b82e05cfe..5c188582881fd2c60ed9f3c11bc495a60d814961 100644
--- a/Makefile.serenity
+++ b/Makefile.serenity
@@ -68,7 +68,7 @@ chicken-config.h: chicken-defaults.h
 	echo "#define HAVE_MEMMOVE 1" >>$@
 	echo "#define HAVE_MEMORY_H 1" >>$@
 	echo "#define HAVE_SIGACTION 1" >>$@
-	echo "#define HAVE_SIGSETJMP 1" >>$@
+	echo "#define HAVE_SIGSETJMP 0" >>$@
 	echo "#define HAVE_SIGPROCMASK 1" >>$@
 	echo "#define HAVE_STDINT_H 1" >>$@
 	echo "#define HAVE_STDLIB_H 1" >>$@
